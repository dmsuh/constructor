(function(){"use strict";var e={2358:function(e,t,i){var a,r=i(144),n=i(998),s=i(704),o=i(6190),c=i(4324),d=i(5808),l=i(4525),u=i(1440),h=i(3059),m=i(7051),_=i(1713),p=i(3687),f=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,[t(s.Z,{attrs:{app:"",color:"primary",dark:""}},[t("div",{staticClass:"d-flex align-center"},[t("h1",[e._v("Конструктор сайта")])]),t(p.Z),t(_.Z,{staticClass:"justify-end"},[t("div",{staticClass:"text-center"},[t(m.Z,{attrs:{down:"","close-on-click":e.closeOnClick},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(o.Z,e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),i),[t(c.Z,[e._v("mdi-format-list-bulleted")])],1)]}}])},[t(d.Z,e._l(e.items,(function(i,a){return t(l.Z,{key:a,on:{click:function(t){return e.action(i)}}},["Редактирование"!==i.title?t(u.V9,[e._v(e._s(i.title))]):t(u.V9,[e._v(e._s(i.page[i.atr]))])],1)})),1)],1)],1)])],1),t(h.Z,[t("HelloWorld",{attrs:{editable:e.edit}})],1)],1)},E=[],S=(i(7658),function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[0!==e.array.length?t("div",e._l(e.array,(function(i,a){return t(i.name,{key:i.id,tag:"component",attrs:{main:i.main,cards:i.cards,editable:e.editable,id:a},on:{deletesection:function(t){return e.deleteSection(a)},"move-down":function(t){return e.moveDown(a)},"move-up":function(t){return e.moveUp(a)}}})})),1):e._e(),t("actions-bar",{on:{createOne:e.createSectionOne,createTwo:e.createSectionTwo,createThree:e.createSectionThree}})],1)}),g=[],v=i(266),C=i(2118),y=i(8088),D=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(C.Z,[e.editable?t(C.Z,[t(_.Z,[t(v.Z),t(v.Z,{attrs:{cols:"auto"}},[t(o.Z,{attrs:{disabled:0===e.id,top:"",right:"",color:"red",icon:""},on:{click:e.moveUp}},[t(c.Z,[e._v("mdi-arrow-up")])],1),t(o.Z,{attrs:{disabled:e.id===this.$store.state.site.array.length-1,top:"",right:"",color:"red",icon:""},on:{click:e.moveDown}},[t(c.Z,[e._v("mdi-arrow-down")])],1),t(o.Z,{attrs:{top:"",right:"",color:"red",icon:""},on:{click:e.delSection}},[t(c.Z,[e._v("mdi-close")])],1)],1)],1)],1):e._e(),e.mainValue.header?t(C.Z,[t("p",{staticClass:"textFormat myHeader font-weight-bold"},[e._v(e._s(e.mainValue.header))])]):e._e(),e.mainValue.description?t(C.Z,[t("p",{staticClass:"textFormat"},[e._v(e._s(e.mainValue.description))])]):e._e(),e.editable?t(C.Z,[t(y.Z,{attrs:{label:"Заголовок"},on:{change:e.changeHeader},model:{value:e.mainValue.header,callback:function(t){e.$set(e.mainValue,"header",t)},expression:"mainValue.header"}}),t(y.Z,{attrs:{label:"Описание"},on:{change:e.changeDescription},model:{value:e.mainValue.description,callback:function(t){e.$set(e.mainValue,"description",t)},expression:"mainValue.description"}})],1):e._e()],1)},A=[],Z=i(629);r.ZP.use(Z.ZP),function(e){e["ADD_SECTION_ONE"]="AddSectionOne",e["ADD_SECTION_TWO"]="AddSectionTwo",e["ADD_SECTION_THREE"]="AddSectionThree",e["DELETE_SECTION"]="DeleteSection",e["MOVE_UP"]="MoveUp",e["MOVE_BOTTOM"]="MoveBottom",e["ADD_CARD"]="AddCard",e["DELETE_CARD"]="DeleteCard",e["CHANGE_CARD_HEADER"]="ChangeCardHeader",e["CHANGE_CARD_DESCRIPTION"]="ChangeCardDescription",e["CHANGE_CARD_IMAGE"]="ChangeCardImage",e["CHANGE_SECTION_HEADER"]="ChangeSectionHeader",e["CHANGE_SECTION_DESCRIPTION"]="ChangeSectionDescription",e["GET_FILMS"]="GetFilms",e["GET_RANDOM_FILMS"]="GetRandomFilm"}(a||(a={}));var O=new Z.ZP.Store({state:{site:{array:[]}},getters:{getSiteArray(e){return e.site.array},getSiteCardsById:e=>t=>e.site.array[t].cards,getSiteMainValueById:e=>t=>e.site.array[t].main,getFilmsArray:e=>t=>e.site.array[t].films},mutations:{[a.ADD_SECTION_ONE]:e=>{const t=0===e.site.array.length?0:e.site.array.length-1;if(0!==e.site.array.length){const i={id:e.site.array[t].id+1,name:"SectionOne",main:{header:"Пример Заголовка Секции 1",description:"Пример Описания Секции 1"},cards:[],films:[]};e.site.array.push(i)}else{const t={id:0,name:"SectionOne",main:{header:"Пример Заголовка Секции 1",description:"Пример Описания Секции 1"},cards:[],films:[]};e.site.array.push(t)}},[a.ADD_SECTION_TWO]:e=>{const t=0===e.site.array.length?0:e.site.array.length-1;if(0!==e.site.array.length){const i={id:e.site.array[t].id+1,name:"SectionTwo",cards:[],main:{},films:[]};e.site.array.push(i)}else{const t={id:0,name:"SectionTwo",cards:[],main:{},films:[]};e.site.array.push(t)}},[a.ADD_SECTION_THREE]:e=>{const t=0===e.site.array.length?0:e.site.array.length-1;if(0!==e.site.array.length){const i={id:e.site.array[t].id+1,name:"SectionThree",cards:[],main:{},films:[]};e.site.array.push(i)}else{const t={id:0,name:"SectionThree",cards:[],main:{},films:[]};e.site.array.push(t)}},[a.MOVE_UP]:(e,t)=>{if(t>0&&t!==e.site.array.length){const i=e.site.array[t],a=e.site.array[t-1],r=i.id,n=a.id;e.site.array[t]=a,e.site.array[t-1]=i,e.site.array[t].id=r,e.site.array[t-1].id=n}},[a.MOVE_BOTTOM]:(e,t)=>{if(t>=0){const i=e.site.array[t],a=e.site.array[t+1],r=i.id,n=a.id;e.site.array[t]=a,e.site.array[t+1]=i,e.site.array[t].id=r,e.site.array[t+1].id=n}},[a.DELETE_SECTION]:(e,t)=>{e.site.array.splice(t,1)},[a.DELETE_CARD]:(e,t)=>{e.site.array[t.id].cards.splice(t.ids,1)},[a.CHANGE_SECTION_HEADER]:(e,t)=>{e.site.array[t.idSec].main.header=t.valueString},[a.CHANGE_SECTION_DESCRIPTION]:(e,t)=>{e.site.array[t.idSec].main.description=t.valueString},[a.CHANGE_CARD_HEADER]:(e,t)=>{e.site.array[t.idSec].cards[t.idEl].header=t.valueString},[a.CHANGE_CARD_DESCRIPTION]:(e,t)=>{e.site.array[t.idSec].cards[t.idEl].description=t.valueString},[a.CHANGE_CARD_IMAGE]:(e,t)=>{e.site.array[t.idSec].cards[t.idEl].img=t.valueString},[a.ADD_CARD]:(e,t)=>{const i=e.site.array[t.idSec].cards;let a;if(a=i.length>0?i.length-1:0,i.length>0){const r={id:i[a].id+1,header:"Заголовок пример",description:"Описание пример",img:"https://cdn.vuetifyjs.com/images/cards/cooking.png"};e.site.array[t.idSec].cards.push(r)}else{const i={id:0,header:"Заголовок пример",description:"Описание пример",img:"https://cdn.vuetifyjs.com/images/cards/cooking.png"};e.site.array[t.idSec].cards.push(i)}},[a.GET_RANDOM_FILMS]:(e,t)=>{e.site.array[t.idSec].films.push(t.resolve)}},actions:{[a.CHANGE_SECTION_HEADER]:async({commit:e},t)=>{e(a.CHANGE_SECTION_HEADER,t)},[a.CHANGE_SECTION_DESCRIPTION]:async({commit:e},t)=>{e(a.CHANGE_SECTION_DESCRIPTION,t)},[a.CHANGE_CARD_HEADER]:async({commit:e},t)=>{e(a.CHANGE_CARD_HEADER,t)},[a.CHANGE_CARD_DESCRIPTION]:async({commit:e},t)=>{e(a.CHANGE_CARD_DESCRIPTION,t)},[a.CHANGE_CARD_IMAGE]:async({commit:e},t)=>{e(a.CHANGE_CARD_IMAGE,t)},[a.ADD_CARD]:async({commit:e},t)=>{e(a.ADD_CARD,t)},[a.DELETE_CARD]:async({commit:e},t)=>{e(a.ADD_CARD,t)},[a.GET_RANDOM_FILMS]:async({commit:e},t)=>{const i=await fetch("https://api.kinopoisk.dev/v1/movie/random",{headers:{Accept:"application/json","X-Api-Key":"5EAYHA1-9V94878-MDFY1FV-4FKPX7R"}}).then((e=>e.json())).then((e=>e));e(a.GET_RANDOM_FILMS,{idSec:t,resolve:i})}},modules:{}}),T=r.ZP.extend({name:"SectionOne",props:["main","id","editable"],data(){return{mainValue:{header:"fsd",description:"fds"}}},methods:{...(0,Z.nv)([a.CHANGE_SECTION_HEADER,a.CHANGE_SECTION_DESCRIPTION]),delSection(){this.$emit("deletesection")},moveDown(){this.$emit("move-down")},moveUp(){this.$emit("move-up")},changeHeader(){const e={idSec:this.idEl,valueString:this.mainValue.header};this.ChangeSectionHeader(e)},changeDescription(e){const t={idSec:this.idEl,valueString:this.mainValue.description};this.ChangeSectionDescription(t)}},computed:{doneTodos(){return this.$store.getters.getSiteMainValueById(this.id)},idEl(){return this.id}},mounted:function(){this.mainValue=this.doneTodos}}),I=T,N=i(1001),b=(0,N.Z)(I,D,A,!1,null,"593d87a0",null),w=b.exports,R=i(9582),H=i(4886),k=i(5495),x=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(C.Z,[e.editable?t(C.Z,[t(_.Z,[t(v.Z),t(v.Z,{attrs:{cols:"auto"}},[t(o.Z,{attrs:{disabled:0===e.id,top:"",right:"",color:"red",icon:""},on:{click:e.moveUp}},[t(c.Z,[e._v("mdi-arrow-up")])],1),t(o.Z,{attrs:{disabled:e.id===this.$store.state.site.array.length-1,top:"",right:"",color:"red",icon:""},on:{click:e.moveDown}},[t(c.Z,[e._v("mdi-arrow-down")])],1),t(o.Z,{attrs:{top:"",right:"",color:"red",icon:""},on:{click:e.delSection}},[t(c.Z,[e._v("mdi-close")])],1)],1)],1)],1):e._e(),t(C.Z,{staticClass:"d-flex flex-wrap"},e._l(e.cards,(function(i,a){return t(R.Z,{key:i.id,staticClass:"ma-3",attrs:{"max-width":"500"}},[e.editable?t(o.Z,{staticClass:"close",staticStyle:{"z-index":"1"},attrs:{color:"white",absolute:"",right:"",bottom:"",icon:""},on:{click:function(t){return e.deleteCard(a)}}},[t(c.Z,[e._v("mdi-close")])],1):e._e(),e.cardsValue[a]?t(k.Z,{staticStyle:{"z-index":"0"},attrs:{height:"250","max-width":e.cardsValue[a].imgWidth,src:e.cardsValue[a].img}}):e._e(),t(H.EB,[t("p",{staticStyle:{"max-width":"100%"}},[e._v(e._s(i.header))])]),t(H.ZB,{staticClass:"d-flex"},[t("p",{staticStyle:{"max-width":"100%","word-break":"break-all"}},[e._v(e._s(i.description))])]),e.cardsValue[a]&&e.editable?t(C.Z,[t(y.Z,{attrs:{label:"Название"},on:{change:function(t){return e.changeHeader(a)}},model:{value:e.cardsValue[a].header,callback:function(t){e.$set(e.cardsValue[a],"header",t)},expression:"cardsValue[ind].header"}}),t(y.Z,{attrs:{label:"Описание"},on:{change:function(t){return e.changeDescription(a)}},model:{value:e.cardsValue[a].description,callback:function(t){e.$set(e.cardsValue[a],"description",t)},expression:"cardsValue[ind].description"}}),t(y.Z,{attrs:{label:"Вставьте ссылку на картинку"},on:{change:function(t){return e.changeImage(a)}},model:{value:e.cardsValue[a].img,callback:function(t){e.$set(e.cardsValue[a],"img",t)},expression:"cardsValue[ind].img"}})],1):e._e()],1)})),1),e.editable?t(_.Z,[t(v.Z),t(v.Z,[t(o.Z,{on:{click:function(t){return e.createCard()}}},[e._v("Создать карточку")])],1),t(v.Z)],1):e._e()],1)},V=[],G=r.ZP.extend({name:"SectionTwo",props:["cards","editable","id"],data(){return{cardsValue:[]}},methods:{...(0,Z.nv)([a.CHANGE_CARD_HEADER,a.CHANGE_CARD_DESCRIPTION,a.CHANGE_CARD_IMAGE,a.ADD_CARD]),changeHeader(e){const t={idSec:this.id,idEl:e,valueString:this.cardsValue[e].header};this.ChangeCardHeader(t)},changeDescription(e){const t={idSec:this.id,idEl:e,valueString:this.cardsValue[e].description};this.ChangeCardDescription(t)},changeImage(e){const t={idSec:this.id,idEl:e,valueString:this.cardsValue[e].img};this.ChangeCardImage(t)},deleteCard(e){this.$store.state.site.array[this.id].cards.splice(e,1)},createCard(){this.AddCard({idSec:this.id})},delSection(){this.$emit("deletesection",this.id)},moveDown(){this.$emit("move-down")},moveUp(){this.$emit("move-up")}},mounted:function(){this.cardsValue=this.$store.getters.getSiteCardsById(this.id)}}),P=G,M=(0,N.Z)(P,x,V,!1,null,"1d5f0889",null),$=M.exports,F=i(6498),B=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(C.Z,[e.editable?t(C.Z,[t(_.Z,[t(v.Z),t(v.Z,{attrs:{cols:"auto"}},[t(o.Z,{attrs:{disabled:0===e.id,top:"",right:"",color:"red",icon:""},on:{click:e.moveUp}},[t(c.Z,[e._v("mdi-arrow-up")])],1),t(o.Z,{attrs:{disabled:e.id===this.$store.state.site.array.length-1,top:"",right:"",color:"red",icon:""},on:{click:e.moveDown}},[t(c.Z,[e._v("mdi-arrow-down")])],1),t(o.Z,{attrs:{top:"",right:"",color:"red",icon:""},on:{click:e.delSection}},[t(c.Z,[e._v("mdi-close")])],1)],1)],1)],1):e._e(),t(C.Z,{staticClass:"d-flex flex-wrap"},e._l(e.filmsValue,(function(i,a){return t(R.Z,{key:a,staticClass:"ma-3",attrs:{"max-width":"500"}},[t(k.Z,{attrs:{src:i.poster.url}}),t(H.EB,[t("p",{staticStyle:{"max-width":"100%"}},[e._v(e._s(i.name))])]),t(H.ZB,[t(C.Z,[t("p",{staticStyle:{"max-width":"100%","word-break":"break-all"}},[e._v(e._s(i.description))]),t(F.Z,{attrs:{dense:"",length:"10","half-increments":"",readonly:""},model:{value:i.rating.kp,callback:function(t){e.$set(i.rating,"kp",t)},expression:"item.rating.kp"}})],1)],1)],1)})),1),e.editable?t(_.Z,[t(v.Z),t(v.Z,[t(o.Z,{on:{click:e.loadRandom}},[e._v("Загрузить рандомный фильм")])],1),t(v.Z)],1):e._e()],1)},j=[],L=r.ZP.extend({name:"SectionThree",props:["cards","editable","id"],data(){return{filmsValue:[]}},methods:{...(0,Z.nv)([a.GET_RANDOM_FILMS]),delSection(){this.$emit("deletesection",this.id)},moveDown(){this.$emit("move-down")},moveUp(){this.$emit("move-up")},loadRandom(){this.$store.dispatch(a.GET_RANDOM_FILMS,this.id)}},beforeCreate(){},mounted:function(){this.filmsValue=this.$store.getters.getFilmsArray(this.id)}}),U=L,W=(0,N.Z)(U,B,j,!1,null,"032d71c7",null),J=W.exports,z=i(9223),K=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex align-center"},[t(z.Z),t("div",{staticClass:"text-center"},[t(m.Z,{attrs:{down:"","close-on-click":e.closeOnClick},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(o.Z,e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),i),[t(c.Z,[e._v("mdi-plus")])],1)]}}])},[t(d.Z,e._l(e.items,(function(i,a){return t(l.Z,{key:a,on:{click:function(t){return e.createSection(i.value)}}},[t(u.V9,[e._v(e._s(i.title))])],1)})),1)],1)],1)],1)},X=[],Y=r.ZP.extend({name:"ActionsBar",data:()=>({items:[{title:"Секция №1",value:"SectionOne"},{title:"Секция №2",value:"SectionTwo"},{title:"Секция №3",value:"SectionThree"}],closeOnClick:!0}),methods:{createSection(e){"SectionOne"===e?this.$emit("createOne"):"SectionTwo"===e?this.$emit("createTwo"):"SectionThree"===e&&this.$emit("createThree")}}}),q=Y,Q=(0,N.Z)(q,K,X,!1,null,"0f35cd2f",null),ee=Q.exports,te=r.ZP.extend({name:"HelloWorld",props:["editable"],components:{SectionThree:J,ActionsBar:ee,SectionOne:w,SectionTwo:$},data:()=>({array:[]}),mounted(){this.array=this.$store.getters.getSiteArray},methods:{...(0,Z.OI)([a.ADD_SECTION_ONE,a.ADD_SECTION_TWO,a.ADD_SECTION_THREE,a.MOVE_UP,a.MOVE_BOTTOM,a.DELETE_SECTION]),createSectionOne(){this.AddSectionOne()},createSectionTwo(){this.AddSectionTwo()},createSectionThree(){this.AddSectionThree()},moveUp(e){this.MoveUp(e)},moveDown(e){this.MoveBottom(e)},deleteSection(e){this.DeleteSection(e)}}}),ie=te,ae=(0,N.Z)(ie,S,g,!1,null,null,null),re=ae.exports,ne=r.ZP.extend({name:"App",components:{HelloWorld:re},data:()=>({edit:!0,items:[{title:"Загрузить",value:"loadInformation"},{title:"Сохранить",value:"saveInformation"},{title:"Редактирование",value:"editPage",atr:0,page:["Редактирование разрешено","Редактирование запрещено"]}],closeOnClick:!0}),methods:{action(e){"Загрузить"===e.title?this.loadInformation():"Сохранить"===e.title?this.saveInformation():(0===e.atr?e.atr=1:e.atr=0,this.changeEdit())},changeEdit(){this.edit=!this.edit},saveInformation(){const e=this.$store.state.site.array;console.log(e),localStorage.setItem("site",JSON.stringify(e))},loadInformation(){const e=localStorage.getItem("site");console.log(e),e&&console.log("retrievedObject: ",JSON.parse(e)),location.reload()}},mounted(){const e=localStorage.getItem("site");e&&this.$store.state.site.array.push(...JSON.parse(e))}}),se=ne,oe=(0,N.Z)(se,f,E,!1,null,null,null),ce=oe.exports,de=i(1705);r.ZP.use(de.Z);var le=new de.Z({});r.ZP.config.productionTip=!1,r.ZP.use(Z.ZP),new r.ZP({store:O,vuetify:le,render:e=>e(ce)}).$mount("#app")}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,a,r,n){if(!a){var s=1/0;for(l=0;l<e.length;l++){a=e[l][0],r=e[l][1],n=e[l][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(i.O).every((function(e){return i.O[e](a[c])}))?a.splice(c--,1):(o=!1,n<s&&(s=n));if(o){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,r,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,s=a[0],o=a[1],c=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(c)var l=c(i)}for(t&&t(a);d<s.length;d++)n=s[d],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(l)},a=self["webpackChunkconstructor"]=self["webpackChunkconstructor"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(2358)}));a=i.O(a)})();
//# sourceMappingURL=app.ec1f9f21.js.map